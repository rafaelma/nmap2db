#!/bin/bash
# postinst script for nmap2db
#
# see: dh_installdeb(1)

set -e

NMAP2DB_GROUP=nmap2db
NMAP2DB_USER=nmap2db
NMAP2DB_LOGDIR=/var/log/nmap2db


case "$1" in
    configure)
	groupadd -f -r $NMAP2DB_GROUP
	useradd -m -N -g $NMAP2DB_GROUP -r -d /var/lib/nmap2db -s /bin/bash -c "NMAP scan manager" $NMAP2DB_USER

	if [ -d "$NMAP2DB_LOGDIR" ]
	then
	    touch ${NMAP2DB_LOGDIR}/nmap2db.log
	    chown -R ${NMAP2DB_USER}:${NMAP2DB_GROUP} ${NMAP2DB_LOGDIR}
	    chmod -R 775 ${NMAP2DB_LOGDIR}
	fi
	;;

    abort-upgrade|abort-remove|abort-deconfigure)
	;;

    *)
        echo "postinst called with unknown argument \`$1'" >&2
        exit 1
	;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
